<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#e6a4b4">
<title>Something for You ‚ù§Ô∏è</title>

<style>

body{
margin:0;
padding:0;
background:#f3e4cf;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:Georgia, serif;
overflow:hidden;
}

.card{
background:#e6a4b4;
width:800px;
max-width:95%;
padding:40px;
border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.2);
text-align:center;
}

.hidden{display:none;}

.gift-container{
display:flex;
gap:30px;
justify-content:center;
}

.gift-box{
background:#f4c2cc;
width:180px;
height:150px;
border-radius:15px;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
cursor:pointer;
transition:.3s;
}

.gift-box:hover{
transform:scale(1.05);
}

.gift-box img{
width:70px;
margin-bottom:10px;
}

button{
background:red;
color:white;
border:none;
padding:10px 25px;
border-radius:20px;
cursor:pointer;
margin-top:15px;
}

/* quiz */

.quiz-box{
background:#f4c2cc;
padding:20px;
border-radius:15px;
width:400px;
margin:auto;
}

.option{
background:white;
padding:12px;
margin:10px 0;
border-radius:8px;
cursor:pointer;
}

.option:hover{
background:#ff4d6d;
color:white;
}

/* agreement */

.agreement-box{
background:#efeacb;
padding:20px;
border-radius:15px;
width:400px;
margin:auto;
text-align:left;
}

canvas{
border:2px solid #e6a4b4;
border-radius:10px;
background:white;
cursor:crosshair;
}

/* letter */

.letter-paper{
background:#efeacb;
width:90%;
max-width:600px;
height:60vh;
padding:25px;
border-radius:10px;
margin:auto;
font-family:cursive;
font-size:16px;
line-height:1.6;
overflow-y:auto;
white-space:pre-wrap;
text-align:left;
}

/* envelope */

.envelope{
width:200px;
height:130px;
background:#ffb6c1;
margin:auto;
cursor:pointer;
}

.flap{
width:100%;
height:100%;
background:#ff8fa3;
clip-path:polygon(0 0,100% 0,50% 60%);
transition:.5s;
}

.envelope.open .flap{
transform:rotateX(180deg);
}

/* popup */

.popup{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%) scale(0);
background:white;
padding:20px;
border-radius:15px;
transition:.3s;
z-index:1000;
}

.popup.show{
transform:translate(-50%,-50%) scale(1);
}

.overlay{
position:fixed;
width:100%;
height:100%;
background:rgba(0,0,0,.4);
display:none;
}

.overlay.show{
display:block;
}

/* petals */

.petal{
position:fixed;
top:-20px;
font-size:20px;
pointer-events:none;
animation:fall linear forwards;
z-index:999;
}

@keyframes fall{
to{
transform:translateY(110vh) rotate(360deg);
opacity:0.8;
}
}


/* MOBILE ONLY */

@media(max-width:600px){

.card{
width:95%;
padding:20px;
}

.gift-container{
flex-direction:column;
align-items:center;
}

.gift-box{
width:80%;
max-width:250px;
}

.quiz-box,
.agreement-box{
width:95%;
}

canvas{
width:100%;
}

.letter-paper{
height:50vh;
}

button{
width:100%;
}

}

</style>
</head>

<body>

<div class="card">

<div id="giftPage">

<h1>Something for You ‚ù§Ô∏è</h1>

<div class="gift-container">

<div class="gift-box" onclick="openQuiz()">
<img src="tkthao219-bubududu.gif">
<p>Gift 1</p>
</div>

<div class="gift-box" onclick="openAgreement()">
<img src="bubu-bubu-dudu.gif">
<p>Gift 2</p>
</div>

<div class="gift-box" onclick="openLetterPage()">
<img src="bubu-dudu-sseeyall.gif">
<p>Gift 3</p>
</div>

</div>

<button onclick="openFinallyPage()">FINALLY ‚ù§Ô∏è</button>

</div>


<div id="quizPage" class="hidden">
<h1>You passed the test ‚ù§Ô∏è</h1>
<button onclick="goBack()">BACK</button>
</div>


<div id="agreementPage" class="hidden">
<h1>Forever Agreement üíç</h1>

<canvas id="signaturePad" width="350" height="150"></canvas>

<br>

<button onclick="clearSignature()">Clear</button>
<button onclick="signAgreement()">Sign ‚ù§Ô∏è</button>

<button onclick="goBack()">BACK</button>

</div>


<div id="letterPage" class="hidden">

<h1>A Letter For You ü•∫</h1>

<div class="envelope" onclick="openEnvelope()">
<div class="flap"></div>
</div>

<div id="letterContent" class="letter-paper hidden">
<span id="letterText"></span>
</div>

<button onclick="goBack()">BACK</button>

</div>

</div>


<div class="popup" id="popup">
<p id="popupText"></p>
<button onclick="closePopup()">OK</button>
</div>

<div class="overlay" id="overlay"></div>

<audio id="music" src="romantic.mp3" loop></audio>


<script>

/* TRACKING */

let gift1Opened=false;
let gift2Opened=false;
let gift3Opened=false;


/* NAV */

function hideAll(){

document.getElementById("giftPage").classList.add("hidden");
document.getElementById("quizPage").classList.add("hidden");
document.getElementById("agreementPage").classList.add("hidden");
document.getElementById("letterPage").classList.add("hidden");

}

function goBack(){

document.getElementById("music").pause();

hideAll();

document.getElementById("giftPage").classList.remove("hidden");

}


/* QUIZ */

function openQuiz(){

gift1Opened=true;

hideAll();

document.getElementById("quizPage").classList.remove("hidden");

}


/* AGREEMENT */

function openAgreement(){

gift2Opened=true;

hideAll();

document.getElementById("agreementPage").classList.remove("hidden");

}

let canvas=document.getElementById("signaturePad");
let ctx=canvas.getContext("2d");
let drawing=false;

canvas.onmousedown=e=>{
drawing=true;
ctx.beginPath();
ctx.moveTo(e.offsetX,e.offsetY);
};

canvas.onmouseup=()=>drawing=false;

canvas.onmousemove=e=>{
if(!drawing)return;
ctx.lineTo(e.offsetX,e.offsetY);
ctx.stroke();
};

function clearSignature(){

ctx.clearRect(0,0,canvas.width,canvas.height);

}

function signAgreement(){

showPopup("Signed Forever ‚ù§Ô∏è");

}


/* LETTER */

const letter="I love you forever ‚ù§Ô∏è";

let index=0;

function openLetterPage(){

gift3Opened=true;

hideAll();

document.getElementById("letterPage").classList.remove("hidden");

document.getElementById("music").play().catch(()=>{});

}

function openEnvelope(){

document.querySelector(".envelope").classList.add("open");

document.getElementById("letterContent").classList.remove("hidden");

let interval=setInterval(()=>{

if(index<letter.length){

document.getElementById("letterText").innerHTML+=letter[index];
index++;

}else clearInterval(interval);

},30);

}


/* FINALLY */

function openFinallyPage(){

if(gift1Opened && gift2Opened && gift3Opened){

window.location.href="forever.html";

}else{

showPopup("Open all gifts first ‚ù§Ô∏è");

}

}


/* POPUP */

function showPopup(msg){

document.getElementById("popupText").innerText=msg;
document.getElementById("popup").classList.add("show");
document.getElementById("overlay").classList.add("show");

}

function closePopup(){

document.getElementById("popup").classList.remove("show");
document.getElementById("overlay").classList.remove("show");

}

</script>

</body>
</html>
